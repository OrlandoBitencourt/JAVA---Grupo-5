BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "TAB_PESSOA" (
	"ID"	INTEGER NOT NULL,
	"NOME"	TEXT NOT NULL,
	"SOBRENOME"	TEXT NOT NULL,
	PRIMARY KEY("ID")
);
CREATE TABLE IF NOT EXISTS "TAB_SALAO_CAFE" (
	"ID"	INTEGER NOT NULL,
	"DESCRICAO"	TEXT NOT NULL,
	"LOTACAO_MAX"	INTEGER NOT NULL,
	PRIMARY KEY("ID")
);
CREATE TABLE IF NOT EXISTS "TAB_SALAO_EVENTO" (
	"ID"	INTEGER NOT NULL,
	"DESCRICAO"	TEXT NOT NULL,
	"LOTACAO_MAX"	INTEGER NOT NULL,
	PRIMARY KEY("ID")
);
CREATE TABLE IF NOT EXISTS "TAB_EVENTO" (
	"ID"	INTEGER NOT NULL,
	"DESCRICAO"	TEXT NOT NULL,
	"ID_SALAO_EVENTO"	INTEGER NOT NULL,
	"ID_SALAO_CAFE"	INTEGER NOT NULL,
	"DATA_EVENTO"	TEXT NOT NULL,
	PRIMARY KEY("ID"),
	FOREIGN KEY("ID_SALAO_CAFE") REFERENCES "TAB_SALAO_CAFE"("ID")
);
CREATE TABLE IF NOT EXISTS "TAB_PESSOA_POR_EVENTO" (
	"ID"	INTEGER NOT NULL,
	"ID_PESSOA"	INTEGER NOT NULL,
	"ID_EVENTO"	INTEGER NOT NULL,
	"ETAPA"	INTEGER NOT NULL DEFAULT 0,
	FOREIGN KEY("ID_EVENTO") REFERENCES "TAB_EVENTO"("ID"),
	FOREIGN KEY("ID_PESSOA") REFERENCES "TAB_PESSOA"("ID"),
	PRIMARY KEY("ID")
);
COMMIT;
